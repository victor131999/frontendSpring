(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["productslist"],{deb1:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",[i("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"item-key":"id"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Products")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{dark:""}},"v-btn",n,!1),a),[e._v(" Crear ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Nombre",required:""},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}})],1)],1),i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Precio",prefix:"$",required:"",type:"numeric"},model:{value:e.editedItem.Price,callback:function(t){e.$set(e.editedItem,"Price",t)},expression:"editedItem.Price"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Stock",type:"number"},model:{value:e.editedItem.Stock,callback:function(t){e.$set(e.editedItem,"Stock",t)},expression:"editedItem.Stock"}}),i("v-slider",{attrs:{color:"black",label:"Stock",min:"1",max:"200","thumb-label":""},model:{value:e.editedItem.Stock,callback:function(t){e.$set(e.editedItem,"Stock",t)},expression:"editedItem.Stock"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Peso",suffix:"kg",required:"",type:"numeric"},model:{value:e.editedItem.Weight,callback:function(t){e.$set(e.editedItem,"Weight",t)},expression:"editedItem.Weight"}})],1)],1),i("v-row",[i("v-col",[i("v-textarea",{attrs:{label:"Detalles",required:""},model:{value:e.editedItem.Details,callback:function(t){e.$set(e.editedItem,"Details",t)},expression:"editedItem.Details"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"dark",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{dark:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v(" Â¿Estas seguro de que deseas eliminar este producto? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"dark",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),i("v-btn",{attrs:{dark:""},on:{click:e.deleteItemConfirm}},[e._v("Ok")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)},n=[],o=i("d4ec"),l=i("bee2"),c=i("bc3a"),r=i.n(c);function s(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.access_token?{Authorization:"Bearer "+e.access_token}:{}}var d="https://webapiingseg.azurewebsites.net/api/Products",u=function(){function e(){Object(o["a"])(this,e)}return Object(l["a"])(e,[{key:"getProducts",value:function(){return r.a.get(d,{headers:s()})}},{key:"deleteProduct",value:function(e){return r.a.delete(d+"/"+e,{headers:s()})}},{key:"retrieveProduct",value:function(e){return r.a.get(d+"/"+e,{headers:s()})}},{key:"editProduct",value:function(e){return r.a.put(d+"/"+e.Id,e,{headers:s()})}},{key:"createProduct",value:function(e){return r.a.post(d,{Name:e.Name,Details:e.Details,Price:e.Price,Weight:e.Weight,Stock:e.Stock},{headers:s()})}}]),e}(),v=new u,m=function e(t,i,a,n,l,c){Object(o["a"])(this,e),this.Id=t,this.Name=i,this.Details=a,this.Price=n,this.Weight=l,this.Stock=c},f={name:"ProductsList",data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Nombre",align:"start",value:"Name"},{text:"Detalles",value:"Details"},{text:"Precio",value:"Price"},{text:"Stock",value:"Stock"},{text:"Actions",value:"actions",sortable:!1}],data:[],editedIndex:-1,editedItem:new m("","","",null,null,null),defaultItem:new m("","","",null,null,null)}},mounted:function(){this.initialize()},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo producto":"Editar producto"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;v.getProducts().then((function(t){return e.data=t.data}))},editItem:function(e){console.log(e),this.editedItem=e,this.dialog=!0},deleteItem:function(e){this.editedItem=e,this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;v.deleteProduct(this.editedItem.Id).then((function(t){e.initialize(),console.log(t.data)})).catch((function(e){return console.log(e.response)})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem)}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;""!=this.editedItem.Id?v.editProduct(this.editedItem).then((function(t){e.initialize(),console.warn(t.data)})).catch((function(e){console.warn(e.response)})):v.createProduct(this.editedItem).then((function(t){e.initialize(),console.warn(t.data)})).catch((function(e){return console.warn(e.response)})),this.close()}}},h=f,k=i("2877"),b=Object(k["a"])(h,a,n,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=productslist.0107e17b.js.map