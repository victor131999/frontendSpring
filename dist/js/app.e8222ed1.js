(function(e){function t(t){for(var s,a,i=t[0],u=t[1],c=t[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},o=[];function a(e){return i.p+"js/"+({about:"about",productslist:"productslist"}[e]||e)+"."+{about:"837ef9d1",productslist:"0107e17b"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,s){n=r[e]=[t,s]}));t.push(n[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=a(e);var c=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",c.name="ChunkLoadError",c.type=s,c.request=o,n[1](c)}r[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("a15b"),n("d81d"),n("b64b"),n("d3b7");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",{attrs:{transition:"slide-x-transition"}},[e.$store.state.auth.status.loggedIn?n("div",[n("Home")],1):e._e(),e.$store.state.auth.status.loggedIn||e.$store.state.isRegisterOpen?e._e():n("div",[n("Login")],1),!e.$store.state.auth.status.loggedIn&&e.$store.state.isRegisterOpen?n("div",[n("Register")],1):e._e()])],1)},o=[],a=n("a55b"),i=n("73cf"),u=n("bb51"),c={data:function(){return{}},name:"App",components:{Login:a["default"],Register:i["default"],Home:u["default"]},mounted:function(){}},l=c,d=n("2877"),p=Object(d["a"])(l,r,o,!1,null,null,null),f=p.exports,g=(n("3ca3"),n("ddb0"),n("8c4f"));s["default"].use(g["a"]);var v=[{path:"/",name:"Home",component:function(){return Promise.resolve().then(n.bind(null,"bb51"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("about").then(n.bind(null,"73cf"))}},{path:"/products/list",name:"products-list",component:function(){return n.e("productslist").then(n.bind(null,"deb1"))}}],h=new g["a"]({mode:"history",base:"/",routes:v}),m=h,b=n("2f62"),w=n("d4ec"),_=n("bee2"),y=n("bc3a"),x=n.n(y),P="https://webapiingseg.azurewebsites.net/",k=function(){function e(){Object(w["a"])(this,e)}return Object(_["a"])(e,[{key:"login",value:function(e){var t={grant_type:"password",username:e.username,password:e.password},n=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");return x.a.post(P+"token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.data.access_token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})).catch((function(e){return console.warn(e.response)}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e){return x.a.post(P+"api/Account/Register",{Email:e.username,Password:e.password,confirmPassword:e.confirmPassword},{headers:{"Content-Type":"application/json"}})}}]),e}(),O=new k,j=JSON.parse(localStorage.getItem("user")),R=j?{status:{loggedIn:!0},user:j}:{status:{loggedIn:!1},user:null},S={namespaced:!0,state:R,actions:{login:function(e,t){var n=e.commit;return O.login(t).then((function(e){return n("loginSuccess",e),Promise.resolve(e)}),(function(e){return n("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;O.logout(),t("logout")},register:function(e,t){var n=e.commit;return O.register(t).then((function(e){return console.log(e),n("registerSuccess"),Promise.resolve(e.data)}),(function(e){return n("registerFailure"),Promise.reject(e)}))}},mutations:{loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=null},logout:function(e){e.status.loggedIn=!1,e.user=null},registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1}},getters:{loggedIn:function(e){return e.status.loggedIn}}};s["default"].use(b["a"]);var $=new b["a"].Store({state:{username:"",token:"",isRegisterOpen:!1},mutations:{updateToken:function(e,t){e.token=t},openRegister:function(e){e.isRegisterOpen=!0},closeRegister:function(e){e.isRegisterOpen=!1}},actions:{updateTokenAction:function(e,t){e.commit("updateToken",t)},openRegisterAction:function(e){e.commit("openRegister")},closeRegisterAction:function(e){e.commit("closeRegister")}},modules:{auth:S},getters:{token:function(e){return e.token}}}),I=n("ce5b"),C=n.n(I);n("bf40");s["default"].use(C.a);var E=new C.a({}),A=n("2106"),L=n.n(A),M=n("1dce"),T=n.n(M),q=(n("e792"),n("3d20")),N=n.n(q),V=N.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",N.a.stopTimer),e.addEventListener("mouseleave",N.a.resumeTimer)}});x.a.interceptors.response.use((function(e){return V.fire({icon:"success",title:"Listo!"}),e}),(function(e){console.log(e.response.data.ModelState);var t=[];return e.response.data.error_description&&(console.log("1"),t.push(e.response.data.error_description)),e.response.data.Message&&t.push(e.response.data.Message),e.response.data.Message&&!e.response.data.ModelState&&(console.log("2"),t.push(e.response.data.Message)),e.response.data.ModelState&&(console.log("3"),t=Object.keys(e.response.data.ModelState).map((function(t){return t+": "+e.response.data.ModelState[t]})).join("\n")),V.fire({icon:"warning",title:t}),Promise.reject(e)})),s["default"].use(T.a),x.a.interceptors.response,s["default"].use(L.a,x.a),s["default"].config.productionTip=!1,new s["default"]({router:m,store:$,vuetify:E,render:function(e){return e(f)}}).$mount("#app")},"73cf":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"py-15":""}})],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"py-15":""}},[n("v-row",[n("v-col",[n("v-flex",[n("v-icon",{attrs:{size:"350"}},[e._v(" mdi-card-account-details ")])],1)],1),n("v-col",[n("v-card",{attrs:{rounded:"",outlined:"",xs7:"",elevation:8}},[n("v-card-title",[n("v-layout",{attrs:{"justify-space-between":""}},[n("h3",{staticClass:"headline mb-0"},[e._v("Registrarse")])])],1),n("v-divider"),n("v-card-text",[n("v-flex",{attrs:{"pb-15":"","pt-10":""}},[n("p",[e._v("Registrate con tu correo:")]),n("v-form",[n("v-text-field",{attrs:{required:"",label:"Correo",outlined:"",dense:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("v-flex",{attrs:{"py-2":""}},[n("label",[e._v("Contrase単a")]),n("VuePassword",{attrs:{required:"",strength:e.pswd_strength},on:{input:e.updatePswdStrength},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),n("v-flex",{attrs:{"py-2":""}},[n("label",[e._v("Vuelva a ingresar su contrase単a")]),n("VuePassword",{attrs:{required:"",strength:e.conf_pswd_strength},on:{input:e.updateCPswdStrength},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.handleExitRegister}},[e._v("Entrar")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.handleRegister}},[e._v("Registrar")])],1)],1)],1)],1)],1)],1)],1)])},r=[],o=n("3c29"),a=n.n(o),i=n("8654"),u={name:"Register",components:{VuePassword:a.a},data:function(){return{user:new i["a"]("","",""),pswd_strength:0,conf_pswd_strength:0}},methods:{handleRegister:function(){var e=this;this.user.username&&this.user.password&&this.user.confirmPassword&&this.$store.dispatch("auth/register",this.user).then((function(t){console.log(t),e.$store.dispatch("closeRegisterAction")}),(function(e){console.warn(e.response)}))},handleExitRegister:function(){this.$store.dispatch("closeRegisterAction")},updatePswdStrength:function(e){var t=/[A-Z]/.test(e),n=/[a-z]/.test(e),s=/[0-9]/.test(e),r=/[#?!@$%^&*-]/.test(e),o=e.length>10;0==e.length&&(this.pswd_strength=0),(t||n||s)&&(this.pswd_strength=1),(t||n||s)&&o&&(this.pswd_strength=2),s&&t&&n&&(this.pswd_strength=3),s&&t&&n&&r&&o&&(this.pswd_strength=4)},updateCPswdStrength:function(e){this.user.password!=e?this.conf_pswd_strength=0:this.conf_pswd_strength=4}}},c=u,l=n("2877"),d=Object(l["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},8654:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("d4ec"),r=function e(t,n,r){Object(s["a"])(this,e),this.username=t,this.password=n,this.confirmPassword=r}},a55b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"py-15":""}})],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{"py-15":""}},[n("v-row",[n("v-col",[n("v-flex",[n("v-icon",{attrs:{size:"350"}},[e._v(" mdi-shield-account-outline ")])],1)],1),n("v-col",[n("v-card",{attrs:{rounded:"",outlined:"",xs7:"",elevation:8}},[n("v-card-title",[n("v-layout",{attrs:{"justify-space-between":""}},[n("h3",{staticClass:"headline mb-0"},[e._v("Ingresar")])])],1),n("v-divider"),n("v-card-text",[n("v-flex",{attrs:{"pb-15":"","pt-10":""}},[n("p",[e._v("Entrar con correo y contrase単a:")]),n("v-form",[n("v-text-field",{attrs:{required:"",outlined:"",dense:"",label:"Correo"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("label",[e._v("Contrase単a")]),n("VuePassword",{staticClass:"input",attrs:{required:"",outlined:"",label:"Correo",strength:e.pswd_strength},on:{input:e.updateStrength},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.handleEnterRegister}},[e._v("Registrarse")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.handleLogin}},[e._v("Entrar")])],1)],1)],1)],1)],1)],1)],1)])},r=[],o=(n("d3b7"),n("25f0"),n("8654")),a=n("3c29"),i=n.n(a),u={name:"Login",components:{VuePassword:i.a},data:function(){return{user:new o["a"]("","",""),loading:!1,message:"",name:"",email:"",pswd_strength:0}},mixins:[],computed:{},created:function(){this.loggedIn&&this.$router.push("/")},methods:{handleLogin:function(){var e=this;this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){}),(function(e){console.log(e.data)}),(function(t){console.warn(t),e.loading=!1,e.message=t.response&&t.response.data||t.message||t.toString()}))},handleEnterRegister:function(){this.$store.dispatch("openRegisterAction")},updateStrength:function(e){var t=/[A-Z]/.test(e),n=/[a-z]/.test(e),s=/[0-9]/.test(e),r=/[#?!@$%^&*-]/.test(e),o=e.length>10;0==e.length&&(this.pswd_strength=0),(t||n||s)&&(this.pswd_strength=1),(t||n||s)&&o&&(this.pswd_strength=2),s&&t&&n&&(this.pswd_strength=3),s&&t&&n&&r&&o&&(this.pswd_strength=4)}}},c=u,l=n("2877"),d=Object(l["a"])(c,s,r,!1,null,null,null);t["default"]=d.exports},bb51:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",[n("AppNavigation"),n("div",[n("v-container",[n("v-flex",{attrs:{"pt-15":""}},[n("router-view")],1)],1)],1)],1)])},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{dark:"",clipped:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{attrs:{color:"error",block:""},on:{click:e.handleLogOut}},[e._v(" Salir ")])],1)]},proxy:!0}])},[n("v-list",[n("v-list-item",{staticClass:"px-2"},[n("v-list-item-avatar",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h7"},[e._v(e._s(e.$store.state.auth.user.userName))]),n("v-list-item-subtitle",{staticClass:"text-h9"},[e._v("Email")])],1)],1)],1),n("v-divider"),n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item",{attrs:{link:"",to:{name:"products-list"}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-bottle-soda-classic-outline")])],1),n("v-list-item-title",[e._v("Products")])],1)],1),n("v-divider")],1)},a=[],i={name:"AppNavigation",data:function(){return{loggedIn:!1}},mounted:function(){this.loggedIn=this.$store.state.auth.status.loggedIn},methods:{handleLogOut:function(){this.loggedIn&&this.$store.dispatch("auth/logout").then((function(){console.log("logout")}))}}},u=i,c=n("2877"),l=Object(c["a"])(u,o,a,!1,null,"b85000bc",null),d=l.exports,p={name:"Home",components:{AppNavigation:d}},f=p,g=Object(c["a"])(f,s,r,!1,null,null,null);t["default"]=g.exports}});
//# sourceMappingURL=app.e8222ed1.js.map